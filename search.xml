<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[ä»Žé›¶æ­å»ºè‡ªå·±çš„Reacté¡¹ç›®]]></title>
    <url>%2Fpost%2Fcca14a3f.html</url>
    <content type="text"><![CDATA[çŸ¥è¯†åœ°å›¾ å¼€å§‹å·¥ä½œä¹‹å‰æˆ‘ä»¬éœ€è¦äº†è§£çš„çŸ¥è¯†ç‚¹ï¼Œä»¥ä¸‹é“¾æŽ¥å¯èƒ½æŸç§åŽŸå› æ— æ³•è®¿é—®ï¼Œå¯æŸ¥çœ‹å¯¹åº”çš„ä¸­æ–‡æ–‡æ¡£ webpack React React-Router Redux React-Redux Redux-Saga ant-design é…ç½®webpacké‡åˆ°çš„é—®é¢˜ issues1: https://github.com/parcel-bundler/parcel/issues/1195 1234567## solution loader: 'less-loader',options: &#123; lessOptions: &#123; javascriptEnabled: true &#125;&#125; issues2ï¼šhttps://github.com/ant-design/ant-design/issues/3442 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849å¼€å¯css-modulesé¢„ç¼–è¯‘æ—¶å°†ç¬¬ä¸‰æ–¹åŒ…æŽ’é™¤&#123; test: /\.less$/, use: [ isPro ? MiniCssExtractPlugin.loader : "style-loader", &#123; loader: 'css-loader', options: &#123; sourceMap: !isPro &#125; &#125;, 'postcss-loader', &#123; loader: 'less-loader', options: &#123; lessOptions: &#123; javascriptEnabled: true &#125; &#125; &#125; ], exclude: [ /node_modules/ ]&#125;, &#123; test: /\.less$/, use: [ isPro ? MiniCssExtractPlugin.loader : "style-loader", &#123; loader: 'css-loader', options: &#123; sourceMap: !isPro &#125; &#125;, 'postcss-loader', &#123; loader: 'less-loader', options: &#123; lessOptions: &#123; javascriptEnabled: true &#125; &#125; &#125; ], include: [ /node_modules/ ] &#125; å¼•å…¥redux react-redux redux-saga å…¥å£æ–‡ä»¶main.js123456789101112131415161718192021222324252627import React from 'react';import ReactDOM from 'react-dom';import &#123; Provider &#125; from 'react-redux';import store from './src/store';import './index.scss';import Counter from './src/App';import &#123; BrowserRouter as Router, Switch, Route, Link&#125; from "react-router-dom";ReactDOM.render( &lt;Provider store=&#123; store &#125;&gt; &lt;Router&gt; &lt;ul&gt; &lt;li&gt; &lt;Link to="/"&gt;è®¡æ•°å™¨&lt;/Link&gt; &lt;/li&gt; &lt;/ul&gt; &lt;Switch&gt; &lt;Route exact path="/" children=&#123;&lt;Counter /&gt;&#125; /&gt; &lt;/Switch&gt; &lt;/Router&gt; &lt;/Provider&gt;, document.getElementById( 'root' )); store.js 123456789import &#123; createStore, applyMiddleware &#125; from 'redux';import rootReducer from "../reducers";import rootSaga from '../sagas/rootSaga';import createSagaMiddleware from 'redux-saga';const sagaMiddleware = createSagaMiddleware();const store = createStore( rootReducer, applyMiddleware( sagaMiddleware ) );sagaMiddleware.run( rootSaga );export default store; reducers/rootReduce.js123456import &#123; combineReducers &#125; from 'redux';import counter from './counter';const rootReducer = combineReducers( &#123; counter&#125; );export default rootReducer; reducers/counter.js 12345678910111213141516const initState = &#123; count: 0, chartName: 'åˆå§‹åŒ–çš„æ•°æ®'&#125;;export default function counter ( state = initState, action ) &#123; switch ( action.type ) &#123; case "INCREMENT": return &#123; ...state, count: state.count + 1 &#125;; case "DECREMENT": return &#123; ...state, count: state.count - 1 &#125;; case "SAVE": return &#123; ...state, ...action.payload &#125;; default: return state; &#125;&#125; saga.js1234567891011121314151617181920import &#123; all, call, takeEvery, put &#125; from 'redux-saga/effects';import &#123; getLists &#125; from '@/Apis/counter';function* getList ( &#123; payload &#125; ) &#123; const &#123; data: &#123; chartName &#125; &#125; = yield call( getLists, payload ); yield put( &#123; type: 'SAVE', payload: &#123; chartName &#125; &#125; );&#125;function* watchGetList () &#123; yield takeEvery( 'GET_LIST', getList );&#125;function* rootSaga () &#123; yield all( [ watchGetList() ] );&#125;export default rootSaga; apis/counters.js 12345678910import request from '@/utils/request';export function getLists ( query ) &#123; return request( &#123; url: '/v1/bpi/currentprice.json', method: 'get', params: query &#125; );&#125; counter.jsx12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152import React from "react";import &#123; connect &#125; from "react-redux";import &#123; Button, Table, Tag, Space &#125; from "antd";import styles from "./app.scss";class Counter extends React.Component &#123; handleIncrement = () =&gt; &#123; this.props.dispatch( &#123; type: "INCREMENT", payload: 0, &#125; ); &#125;; handleDecrement = () =&gt; &#123; this.props.dispatch( &#123; type: "DECREMENT", payload: 0, &#125; ); &#125;; handleGetList = () =&gt; &#123; this.props.dispatch( &#123; type: "GET_LIST" &#125; ); &#125;; render () &#123; const &#123; counter: &#123; count, chartName &#125;, &#125; = this.props; return ( &lt;div style=&#123;&#123; textAlign: "center", marginTop: "100px" &#125;&#125;&gt; &lt;h1&gt;&#123;chartName&#125;&lt;/h1&gt; &lt;h1 className=&#123;styles.center&#125;&gt;è®¡æ•°å™¨ï¼š&#123;count&#125;&lt;/h1&gt; &lt;Button type="primary" onClick=&#123;this.handleIncrement&#125;&gt; + &lt;/Button&gt; &lt;Button type="primary" onClick=&#123;this.handleDecrement&#125;&gt; - &lt;/Button&gt; &lt;Button type="primary" onClick=&#123;this.handleGetList&#125;&gt; æ›´æ–°è§†å›¾ &lt;/Button&gt; &lt;/div&gt; ); &#125;&#125;const mapStateToProps = ( state ) =&gt; &#123; return &#123; counter: state.counter, &#125;;&#125;;export default connect( mapStateToProps )( Counter ); demoæˆªå›¾ ç‚¹å‡»æŒ‰é’®+é€’å¢žã€ç‚¹å‡»æŒ‰é’®-é€’å‡ã€ç‚¹å‡»æŒ‰é’®æ›´æ–°è§†å›¾æ›¿æ¢åˆå§‹åŒ–æ•°æ®ã€‚æŽ¥å£åœ°å€ https://api.coindesk.com/v1/bpi/currentprice.json]]></content>
      <categories>
        <category>React</category>
      </categories>
      <tags>
        <tag>JSåŸºç¡€ç¬”è®°</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å˜æ¢èŽ«æµ‹çš„this]]></title>
    <url>%2Fpost%2Fc8159d62.html</url>
    <content type="text"><![CDATA[ä¸ºä»€ä¹ˆè¦ç”¨this æˆ‘ä»¬ä¸ºä»€ä¹ˆè¦ç”¨thisä»¥åŠåœ¨å“ªç§åœºæ™¯ä¼šç”¨åˆ°this?ä¸‹é¢å¯ä»¥é€šè¿‡ä¸€ä¸ªä¾‹å­è¯´æ˜Žã€‚ 12345678910111213141516171819202122232425262728293031//ä½¿ç”¨thisçš„æƒ…å†µlet Tom = &#123; name: "Tom" &#125;, Jerry = &#123; name: "Jerry" &#125;;function identify() &#123; return this.name.toUpperCase();&#125;function speak() &#123; let greeting = "Hello, I am " + identify.call(this); console.log(greeting);&#125;console.log(identify.call(Tom)); // TOMconsole.log(identify.call(Jerry)); // JERRYspeak.call(Tom); // Hello, I am TOMspeak.call(Jerry); // Hello, I am JERRY//ä¸ä½¿ç”¨thisçš„æƒ…å†µfunction identify(context) &#123; return context.name.toUpperCase();&#125;function speak(context) &#123; let greeting = "Hello, I am " + identify(context); console.log(greeting);&#125;identify(Tom); // TOMspeak(Jerry) // Hello, I am JERRY é€šè¿‡ä¸Šé¢çš„ä»£ç æˆ‘ä»¬ä¸éš¾å‘çŽ°ï¼Œå¦‚æžœä¸ä½¿ç”¨this,å°±éœ€è¦ç»™identify()å’Œspeak()æ˜¾å¼ä¼ å…¥ä¸€ä¸ªä¸Šä¸‹æ–‡å¯¹è±¡ï¼Œéšç€ä½ çš„ä½¿ç”¨æ¨¡å¼è¶Šæ¥è¶Šå¤æ‚ï¼Œæ˜¾å¼ä¼ é€’ä¸Šä¸‹æ–‡ä¼šè®©ä»£ç å˜å¾—è¶Šæ¥è¶Šæ··ä¹±ï¼Œå¯è§thisæä¾›äº†ä¸€ç§æ›´ä¼˜é›…çš„æ–¹å¼æ¥éšå¼â€ä¼ é€’â€ä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨ï¼Œå› æ­¤å¯ä»¥å°†APIè®¾è®¡å¾—æ›´åŠ ç®€æ´å¹¶ä¸”æ˜“äºŽå¤ç”¨ã€‚ å…³äºŽthisçš„ä¸¤ä¸ªå¸¸è§è¯¯åŒº æŒ‡å‘è‡ªèº«(ä¸¾ä¸ªðŸŒ°) 123456789function callCount() &#123; this.count++;&#125;callCount.count = 0;for (let i=0;i&lt;10;i++)&#123; if (i&gt;5)&#123; callCount() &#125;&#125; ä¸éš¾å‘çŽ°callCount()ä¼šè¢«è°ƒç”¨å››æ¬¡ä½†æ˜¯callCount.count = 0ï¼ŒåŽŸå› åœ¨äºŽæ­¤æ—¶çš„thisæŒ‡å‘window,é‚£ä¹ˆæˆ‘ä»¬å¾ˆå®¹æ˜“è”æƒ³åˆ°window.count = 4,ä½†æ˜¯ç»“æžœæ˜¯NaNã€‚å› ä¸ºåœ¨éžä¸¥æ ¼æ¨¡å¼ä¸‹countä¼šæå‰å£°æ˜Žä½¿ç”¨ï¼Œå€¼ä¸ºundefined,è¿›è¡Œæ•°å­—è¿ç®—æ—¶å¾—å‡ºç»“æžœNaN(æ•°æ®ç±»åž‹çš„å…¨é¢è§£æžè¿™ç¯‡æ–‡ç« æœ‰è¯¦ç»†ä»‹ç»æ•°æ®ä¹‹é—´çš„è½¬æ¢è§„åˆ™) æŒ‡å‘ä»–çš„ä½œç”¨åŸŸ123456789101112var a = 2;function foo() &#123; var a = 1; this.bar()&#125;function bar() &#123; console.log(this.a);&#125;foo(); // 2 ä»£ç æ‰§è¡Œæ—¶ï¼Œæµè§ˆå™¨ä¼šåˆ›å»ºä¸€ä¸ªå…¨å±€çš„æ‰§è¡Œä¸Šä¸‹æ–‡(EC(G))ï¼Œè¿›å…¥æ‰§è¡ŒçŽ¯å¢ƒæ ˆ(ECS)ä¸­æ‰§è¡Œï¼Œæ‰§è¡Œè¿‡ç¨‹ä¸­ä¼šè¿›è¡Œå˜é‡å’Œå‡½æ•°æå‡ï¼Œå˜é‡å¯¹è±¡(VO)å­˜å‚¨å½“å‰ä¸Šä¸‹æ–‡å˜é‡å’Œå€¼ï¼Œå½¢æˆç§æœ‰ä½œç”¨åŸŸ(scope)å’Œä½œç”¨åŸŸé“¾(scope chain)ï¼Œå‡½æ•°æ‰§è¡Œæ—¶ï¼Œä¼šå½¢æˆä¸€ä¸ªå…¨æ–°çš„æ‰§è¡Œä¸Šä¸‹æ–‡,è¿›å…¥æ‰§è¡ŒçŽ¯å¢ƒæ ˆ(ECS)ä¸­æ‰§è¡Œï¼Œæ´»åŠ¨å¯¹è±¡(AO)å­˜å‚¨å‡½æ•°å†…çš„å½¢å‚ã€å˜é‡å’Œå€¼ï¼ŒåŒæ ·ä¼šå½¢æˆç§æœ‰ä½œç”¨åŸŸå’Œä½œç”¨åŸŸé“¾ã€‚æ­¤æ—¶çš„thiså¹¶ä¸æ˜¯fooæ‰§è¡Œä¸Šä¸‹æ–‡ä¸‹çš„ä½œç”¨åŸŸè€Œæ˜¯æ‰§è¡Œwindowã€‚ å¦‚ä½•ç¡®å®šthis thisæ˜¯åœ¨è°ƒç”¨æ—¶è¿›è¡Œç»‘å®šçš„ï¼Œå¹¶ä¸æ˜¯åœ¨å£°æ˜Žæ—¶ç¡®å®šçš„ï¼Œthisçš„ç»‘å®šå’Œå‡½æ•°å£°æ˜Žçš„ä½ç½®æ²¡æœ‰ä»»ä½•å…³ç³»ï¼Œå®Œå…¨å–å†³äºŽå‡½æ•°çš„è°ƒç”¨æ–¹å¼ã€‚ é»˜è®¤ç»‘å®š12345678910111213141516171819202122232425262728293031var a = 1;function foo() &#123; console.log(this.a);&#125;var obj = &#123; a: 2, foo&#125;;var bar = obj.foo; // å¯ä»¥çœ‹ä½œæ˜¯fooçš„å¼•ç”¨æ”¾å…¥äº†å…¨å±€ECSæ‰§è¡Œã€‚thisæŒ‡å‘windowfoo(); // 1bar(); // 1/* ä½œä¸ºå›žè°ƒå‡½æ•° */function foo() &#123; console.log(this.a);&#125;function doFoo(fn) &#123; fn();&#125;var obj = &#123; a: 2, foo&#125;;var a = "global";doFoo(obj.foo); // "global" æ˜¯ä¸€æ ·çš„è·Ÿbar()æ‰§è¡ŒåŽŸç†setTimeout(obj.foo, 100); // "global" è·Ÿbar()æ‰§è¡ŒåŽŸç† åœ¨éžä¸¥æ ¼æ¨¡å¼ä¸‹thisæŒ‡å‘windowï¼Œä¸¥æ ¼æ¨¡å¼ä¸‹thisä¼šç»‘å®šåˆ°undefined éšå¼ç»‘å®š 1234567891011var obj2 = &#123; a: 42, foo: foo&#125;;var obj1 = &#123; a:2, obj2&#125;obj2.foo(); // 42 thisæŒ‡å‘obj2obj1.obj2.foo(); // 42 thisæŒ‡å‘obj2 æ˜¾å¼ç»‘å®š 12345678910function foo() &#123; console.log(this.a);&#125;var obj = &#123; a: 2&#125;foo.call(obj) // 2foo.apply(obj) // 2foo.bind(obj)() // 2 ä¸€æ—¦è¢«bindã€callã€applyç»‘å®šåŽä¸å¯èƒ½å†ä¿®æ”¹å®ƒçš„this12345678910111213var obj = &#123; a: 2&#125;;function foo(num) &#123; return this.a + num;&#125;function bar() &#123; return foo.apply(obj, arguments);&#125;bar(3); // 5 æž„é€ å‡½æ•°é‡Œçš„this ä½¿ç”¨newæ¥è°ƒç”¨æž„é€ å‡½æ•°å’Œç›´æŽ¥è°ƒç”¨æ™®é€šå‡½æ•°çš„åŒºåˆ« åˆ›å»ºï¼ˆæž„é€ ï¼‰ä¸€ä¸ªå…¨æ–°çš„å¯¹è±¡ä½œä¸ºå®žä¾‹å¯¹è±¡ å°†è¿™ä¸ªæ–°å¯¹è±¡çš„__proto__æŒ‡å‘æž„é€ å‡½æ•°çš„prototypeå¯¹è±¡ è¿™ä¸ªæ–°å¯¹è±¡ä¼šç»‘å®šåˆ°å‡½æ•°è°ƒç”¨çš„this æ‰§è¡Œå‡½æ•°ä¸­çš„ä»£ç  å¦‚æžœå‡½æ•°æ²¡æœ‰è¿”å›žå…¶ä»–å¯¹è±¡ï¼Œé‚£ä¹ˆå‡½æ•°æ‰§è¡Œå®ŒæˆåŽä¼šè‡ªåŠ¨è¿”å›žè¿™ä¸ªæ–°å¯¹è±¡123456function Foo(name) &#123; this.name = name; console.log(this);&#125;var bar = new Foo("Tom"); // thiså°±æ˜¯barè¿™ä¸ªå®žä¾‹å¯¹è±¡ ç®­å¤´å‡½æ•°ä¸­çš„this ç®­å¤´å‡½æ•°å’Œæ™®é€šå‡½æ•°çš„åŒºåˆ« ç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„this,è€Œæ˜¯å®šä¹‰æ—¶ä¸Šçº§æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­ æœ¬èº«æ²¡æœ‰argumentså¯¹è±¡,ä¹Ÿæ²¡æœ‰prototypeå¯¹è±¡ ä¸èƒ½å½“ä½œæž„é€ å‡½æ•°ä½¿ç”¨ ç®­å¤´å‡½æ•°çš„thisç»‘å®šåŽæ— æ³•è¢«callã€applyã€bindã€newä¿®æ”¹123456789var obj = &#123; a: 2&#125;function foo() &#123; setTimeout(()=&gt;&#123; console.log(this.a); &#125;,100)&#125;foo.call(obj) // ç®­å¤´å‡½æ•°thisæ˜¯fooé‡Œçš„this äº‹ä»¶ç»‘å®š 123456document.getElementById('btn').onclick = function (e) &#123; console.log(this); &#125; // thisæŒ‡å‘å½“å‰å…ƒç´ æœ¬èº«document.getElementById('btn').addEventListener("click",function () &#123; console.log(this); &#125;) // thisæŒ‡å‘å½“å‰å…ƒç´ æœ¬èº«]]></content>
      <categories>
        <category>javascript</category>
      </categories>
      <tags>
        <tag>JSåŸºç¡€ç¬”è®°</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åˆ†ç±»]]></title>
    <url>%2Fcategories%2Findex.html</url>
    <content type="text"></content>
  </entry>
  <entry>
    <title><![CDATA[å…³äºŽ]]></title>
    <url>%2Fabout%2Findex.html</url>
    <content type="text"><![CDATA[ç­¾å å­¦ä¹ æ˜¯ä¸€æ¡ä»¤äººæ—¶è€Œå–œæžè‹¥ç‹‚ã€æ—¶è€Œéƒéƒå¯¡æ¬¢çš„é“è·¯ã€‚ ä¸ªäººä¿¡æ¯ Javascriptçˆ±å¥½è€…ï¼Œé…·çˆ±Reactï¼Œç•¥æ‡‚JSã€HTML/CSSã€NODEJSï¼Œæ¬¢è¿Žæ²Ÿé€šäº¤æµã€‚ å…³äºŽBlogæœ¬ç«™æ˜¯ä½¿ç”¨ Hexo æ­å»ºï¼Œé•œåƒæ‰˜ç®¡åœ¨ Github ä¹‹ä¸Šï¼Œåšå®¢ä¸»é¢˜ä½¿ç”¨çš„æ˜¯éžå¸¸æ¼‚äº®ã€ç®€æ´çš„ Next ä¸»é¢˜ã€‚ æœ¬ç«™æ˜¯ä¸ºäº†ä¸ªäººäº¤æµå­¦ä¹ è€Œæ­å»ºï¼Œæœ¬ç«™å†…å®¹è‹¥éžæ³¨æ˜Žã€è½¬ã€‘å‡æ¥è‡ªæœ¬äººæ’°å†™ï¼Œè½¬è½½å¿…ä¼šæ³¨æ˜ŽåŽŸæ–‡å¼•ç”¨åœ°å€ï¼Œè‹¥æ‚¨è®¤ä¸ºä¾µçŠ¯ä½ çš„ä¸ªäººçŸ¥è¯†äº§æƒï¼Œè¯·è”ç³»æˆ‘(zhouzhishou_123@163.com)ï¼Œæˆ‘ä¼šç¬¬ä¸€æ—¶é—´å’Œæ‚¨è¿›è¡Œæ²Ÿé€šå¤„ç†ã€‚è‹¥ä½ å–œæ¬¢æœ¬ç«™å†…å®¹ï¼Œæ¬¢è¿Žè½¬è½½ï¼Œä½†è¯·æ³¨æ˜Žå‡ºå¤„ï¼Œä¸”å‹¿ç”¨äºŽå•†ä¸šç”¨é€”ï¼Œè°¢è°¢ï¼ï¼ï¼ è”ç³»æ–¹å¼ é‚®ç®±ï¼šzhouzhishou_123@163.com]]></content>
  </entry>
  <entry>
    <title><![CDATA[æ ‡ç­¾]]></title>
    <url>%2Ftags%2Findex.html</url>
    <content type="text"></content>
  </entry>
</search>
