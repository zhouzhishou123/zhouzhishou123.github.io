<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>æ—…é€”æ°¸æ— æ­¢å¢ƒ</title>
  <icon>https://www.gravatar.com/avatar/61e2a6cbc389b0741db62711eed4946c</icon>
  <subtitle>Talk is Cheep</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://zhouzhishou123.github.io/"/>
  <updated>2020-07-19T12:47:36.590Z</updated>
  <id>https://zhouzhishou123.github.io/</id>
  
  <author>
    <name>zhouzhishou</name>
    <email>zhouzhishou_123@163.com</email>
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>ä»é›¶æ­å»ºè‡ªå·±çš„Reacté¡¹ç›®</title>
    <link href="https://zhouzhishou123.github.io/post/cca14a3f.html"/>
    <id>https://zhouzhishou123.github.io/post/cca14a3f.html</id>
    <published>2020-07-19T10:28:30.000Z</published>
    <updated>2020-07-19T12:47:36.590Z</updated>
    
    <content type="html"><![CDATA[<h2 id="çŸ¥è¯†åœ°å›¾"><a href="#çŸ¥è¯†åœ°å›¾" class="headerlink" title="çŸ¥è¯†åœ°å›¾"></a>çŸ¥è¯†åœ°å›¾</h2><blockquote><p>å¼€å§‹å·¥ä½œä¹‹å‰æˆ‘ä»¬éœ€è¦äº†è§£çš„çŸ¥è¯†ç‚¹ï¼Œä»¥ä¸‹é“¾æ¥å¯èƒ½æŸç§åŸå› æ— æ³•è®¿é—®ï¼Œå¯æŸ¥çœ‹å¯¹åº”çš„ä¸­æ–‡æ–‡æ¡£</p><ol><li><a href="https://webpack.js.org/" target="_blank" rel="noopener">webpack</a></li><li><a href="https://reactjs.org/" target="_blank" rel="noopener">React</a></li><li><a href="https://reactrouter.com/" target="_blank" rel="noopener">React-Router</a></li><li><a href="https://redux.js.org/" target="_blank" rel="noopener">Redux</a></li><li><a href="https://react-redux.js.org/" target="_blank" rel="noopener">React-Redux</a></li><li><a href="https://redux-saga.js.org/" target="_blank" rel="noopener">Redux-Saga</a></li><li><a href="https://ant.design/docs/react/introduce-cn" target="_blank" rel="noopener">ant-design</a></li></ol></blockquote><h2 id="é…ç½®webpacké‡åˆ°çš„é—®é¢˜"><a href="#é…ç½®webpacké‡åˆ°çš„é—®é¢˜" class="headerlink" title="é…ç½®webpacké‡åˆ°çš„é—®é¢˜"></a>é…ç½®webpacké‡åˆ°çš„é—®é¢˜</h2><ol><li><p><a href="https://github.com/parcel-bundler/parcel/issues/1195" target="_blank" rel="noopener">issues1</a>: <a href="https://github.com/parcel-bundler/parcel/issues/1195" target="_blank" rel="noopener">https://github.com/parcel-bundler/parcel/issues/1195</a></p> <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## solution  </span></span><br><span class="line"><span class="attr">loader:</span> <span class="string">'less-loader'</span><span class="string">,</span></span><br><span class="line"><span class="attr">options:</span> <span class="string">&#123;</span></span><br><span class="line"><span class="attr">    lessOptions:</span> <span class="string">&#123;</span></span><br><span class="line"><span class="attr">        javascriptEnabled:</span> <span class="literal">true</span></span><br><span class="line">    <span class="string">&#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure></li></ol><ol start="2"><li><p><a href="https://github.com/ant-design/ant-design/issues/3442" target="_blank" rel="noopener">issues2</a>ï¼š<a href="https://github.com/ant-design/ant-design/issues/3442" target="_blank" rel="noopener">https://github.com/ant-design/ant-design/issues/3442</a></p> <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">å¼€å¯css-modulesé¢„ç¼–è¯‘æ—¶å°†ç¬¬ä¸‰æ–¹åŒ…æ’é™¤</span></span><br><span class="line"><span class="string">&#123;</span></span><br><span class="line"><span class="attr">    test:</span> <span class="string">/\.less$/,</span></span><br><span class="line"><span class="attr">    use:</span> <span class="string">[</span></span><br><span class="line">        <span class="string">isPro</span> <span class="string">?</span> <span class="string">MiniCssExtractPlugin.loader</span> <span class="string">:</span> <span class="string">"style-loader"</span><span class="string">,</span></span><br><span class="line">        <span class="string">&#123;</span></span><br><span class="line"><span class="attr">            loader:</span> <span class="string">'css-loader'</span><span class="string">,</span></span><br><span class="line"><span class="attr">            options:</span> <span class="string">&#123;</span></span><br><span class="line"><span class="attr">                sourceMap:</span> <span class="type">!isPro</span></span><br><span class="line">            <span class="string">&#125;</span></span><br><span class="line">        <span class="string">&#125;,</span></span><br><span class="line">        <span class="string">'postcss-loader'</span><span class="string">,</span></span><br><span class="line">        <span class="string">&#123;</span></span><br><span class="line"><span class="attr">            loader:</span> <span class="string">'less-loader'</span><span class="string">,</span></span><br><span class="line"><span class="attr">            options:</span> <span class="string">&#123;</span></span><br><span class="line"><span class="attr">                lessOptions:</span> <span class="string">&#123;</span></span><br><span class="line"><span class="attr">                    javascriptEnabled:</span> <span class="literal">true</span></span><br><span class="line">                <span class="string">&#125;</span></span><br><span class="line">            <span class="string">&#125;</span></span><br><span class="line">        <span class="string">&#125;</span></span><br><span class="line">    <span class="string">],</span></span><br><span class="line"><span class="attr">    exclude:</span> <span class="string">[</span></span><br><span class="line">        <span class="string">/node_modules/</span></span><br><span class="line">    <span class="string">]</span></span><br><span class="line"><span class="string">&#125;,</span></span><br><span class="line"> <span class="string">&#123;</span></span><br><span class="line"><span class="attr">     test:</span> <span class="string">/\.less$/,</span></span><br><span class="line"><span class="attr">     use:</span> <span class="string">[</span></span><br><span class="line">         <span class="string">isPro</span> <span class="string">?</span> <span class="string">MiniCssExtractPlugin.loader</span> <span class="string">:</span> <span class="string">"style-loader"</span><span class="string">,</span></span><br><span class="line">         <span class="string">&#123;</span></span><br><span class="line"><span class="attr">             loader:</span> <span class="string">'css-loader'</span><span class="string">,</span></span><br><span class="line"><span class="attr">             options:</span> <span class="string">&#123;</span></span><br><span class="line"><span class="attr">                 sourceMap:</span> <span class="type">!isPro</span></span><br><span class="line">             <span class="string">&#125;</span></span><br><span class="line">         <span class="string">&#125;,</span></span><br><span class="line">         <span class="string">'postcss-loader'</span><span class="string">,</span></span><br><span class="line">         <span class="string">&#123;</span></span><br><span class="line"><span class="attr">             loader:</span> <span class="string">'less-loader'</span><span class="string">,</span></span><br><span class="line"><span class="attr">             options:</span> <span class="string">&#123;</span></span><br><span class="line"><span class="attr">                 lessOptions:</span> <span class="string">&#123;</span></span><br><span class="line"><span class="attr">                     javascriptEnabled:</span> <span class="literal">true</span></span><br><span class="line">                 <span class="string">&#125;</span></span><br><span class="line">             <span class="string">&#125;</span></span><br><span class="line">         <span class="string">&#125;</span></span><br><span class="line">     <span class="string">],</span></span><br><span class="line"><span class="attr">     include:</span> <span class="string">[</span></span><br><span class="line">         <span class="string">/node_modules/</span></span><br><span class="line">     <span class="string">]</span></span><br><span class="line"> <span class="string">&#125;</span></span><br></pre></td></tr></table></figure></li></ol><h2 id="å¼•å…¥redux-react-redux-redux-saga"><a href="#å¼•å…¥redux-react-redux-redux-saga" class="headerlink" title="å¼•å…¥redux react-redux redux-saga"></a>å¼•å…¥redux react-redux redux-saga</h2><p> å…¥å£æ–‡ä»¶main.js<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"><span class="keyword">import</span> ReactDOM <span class="keyword">from</span> <span class="string">'react-dom'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; Provider &#125; <span class="keyword">from</span> <span class="string">'react-redux'</span>;</span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">'./src/store'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'./index.scss'</span>;</span><br><span class="line"><span class="keyword">import</span> Counter <span class="keyword">from</span> <span class="string">'./src/App'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;</span><br><span class="line">    BrowserRouter <span class="keyword">as</span> Router,</span><br><span class="line">    Switch,</span><br><span class="line">    Route,</span><br><span class="line">    Link</span><br><span class="line">&#125; <span class="keyword">from</span> <span class="string">"react-router-dom"</span>;</span><br><span class="line"></span><br><span class="line">ReactDOM.render(</span><br><span class="line">    &lt;Provider store=&#123; store &#125;&gt;</span><br><span class="line">        &lt;Router&gt;</span><br><span class="line">            &lt;ul&gt;</span><br><span class="line">                &lt;li&gt;</span><br><span class="line">                    &lt;Link to=<span class="string">"/"</span>&gt;è®¡æ•°å™¨&lt;<span class="regexp">/Link&gt;</span></span><br><span class="line"><span class="regexp">                &lt;/</span>li&gt;</span><br><span class="line">            &lt;<span class="regexp">/ul&gt;</span></span><br><span class="line"><span class="regexp">            &lt;Switch&gt;</span></span><br><span class="line"><span class="regexp">                &lt;Route exact path="/</span><span class="string">" children=&#123;&lt;Counter /&gt;&#125; /&gt;</span></span><br><span class="line"><span class="string">            &lt;/Switch&gt;</span></span><br><span class="line"><span class="string">        &lt;/Router&gt;</span></span><br><span class="line"><span class="string">    &lt;/Provider&gt;, document.getElementById( 'root' )</span></span><br><span class="line"><span class="string">);</span></span><br></pre></td></tr></table></figure></p><p>store.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createStore, applyMiddleware &#125; <span class="keyword">from</span> <span class="string">'redux'</span>;</span><br><span class="line"><span class="keyword">import</span> rootReducer <span class="keyword">from</span> <span class="string">"../reducers"</span>;</span><br><span class="line"><span class="keyword">import</span> rootSaga <span class="keyword">from</span> <span class="string">'../sagas/rootSaga'</span>;</span><br><span class="line"><span class="keyword">import</span> createSagaMiddleware <span class="keyword">from</span> <span class="string">'redux-saga'</span>;</span><br><span class="line"><span class="keyword">const</span> sagaMiddleware = createSagaMiddleware();</span><br><span class="line"><span class="keyword">const</span> store = createStore( rootReducer, applyMiddleware( sagaMiddleware ) );</span><br><span class="line">sagaMiddleware.run( rootSaga );</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> store;</span><br></pre></td></tr></table></figure><p>reducers/rootReduce.js<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; combineReducers &#125; <span class="keyword">from</span> <span class="string">'redux'</span>;</span><br><span class="line"><span class="keyword">import</span> counter <span class="keyword">from</span> <span class="string">'./counter'</span>;</span><br><span class="line"><span class="keyword">const</span> rootReducer = combineReducers( &#123;</span><br><span class="line">    counter</span><br><span class="line">&#125; );</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> rootReducer;</span><br></pre></td></tr></table></figure></p><p>reducers/counter.js</p><figure class="highlight pf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">const initState = &#123;</span><br><span class="line">    count: <span class="number">0</span>,</span><br><span class="line">    chartName: 'åˆå§‹åŒ–çš„æ•°æ®'</span><br><span class="line">&#125;;</span><br><span class="line">export <span class="keyword">default</span> function counter ( <span class="keyword">state</span> = initState, action ) &#123;</span><br><span class="line">    switch ( action.type ) &#123;</span><br><span class="line">        case <span class="string">"INCREMENT"</span>:</span><br><span class="line">            return &#123; ...<span class="keyword">state</span>, count: <span class="keyword">state</span>.count + <span class="number">1</span> &#125;;</span><br><span class="line">        case <span class="string">"DECREMENT"</span>:</span><br><span class="line">            return &#123; ...<span class="keyword">state</span>, count: <span class="keyword">state</span>.count - <span class="number">1</span> &#125;;</span><br><span class="line">        case <span class="string">"SAVE"</span>:</span><br><span class="line">            return &#123; ...<span class="keyword">state</span>, ...action.payload &#125;;</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            return <span class="keyword">state</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p> saga.js<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; all, call, takeEvery, put &#125; <span class="keyword">from</span> <span class="string">'redux-saga/effects'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; getLists &#125; <span class="keyword">from</span> <span class="string">'@/Apis/counter'</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">getList</span> (<span class="params"> &#123; payload &#125; </span>) </span>&#123;</span><br><span class="line">   <span class="keyword">const</span> &#123; <span class="attr">data</span>: &#123; chartName &#125; &#125; = <span class="keyword">yield</span> call( getLists, payload );</span><br><span class="line">    <span class="keyword">yield</span> put( &#123;</span><br><span class="line">        type: <span class="string">'SAVE'</span>,</span><br><span class="line">        payload: &#123; chartName &#125;</span><br><span class="line">    &#125; );</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">watchGetList</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">yield</span> takeEvery( <span class="string">'GET_LIST'</span>, getList );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">rootSaga</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">yield</span> all( [</span><br><span class="line">        watchGetList()</span><br><span class="line">    ] );</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> rootSaga;</span><br></pre></td></tr></table></figure></p><p>apis/counters.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> request <span class="keyword">from</span> <span class="string">'@/utils/request'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">getLists</span> (<span class="params"> query </span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> request( &#123;</span><br><span class="line">        url: <span class="string">'/v1/bpi/currentprice.json'</span>,</span><br><span class="line">        method: <span class="string">'get'</span>,</span><br><span class="line">        params: query</span><br><span class="line">    &#125; );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>counter.jsx<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">"react"</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; connect &#125; <span class="keyword">from</span> <span class="string">"react-redux"</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; Button, Table, Tag, Space &#125; <span class="keyword">from</span> <span class="string">"antd"</span>;</span><br><span class="line"><span class="keyword">import</span> styles <span class="keyword">from</span> <span class="string">"./app.scss"</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Counter</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">    handleIncrement = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">this</span>.props.dispatch( &#123;</span><br><span class="line">            type: <span class="string">"INCREMENT"</span>,</span><br><span class="line">            payload: <span class="number">0</span>,</span><br><span class="line">        &#125; );</span><br><span class="line">    &#125;;</span><br><span class="line">    handleDecrement = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">this</span>.props.dispatch( &#123;</span><br><span class="line">            type: <span class="string">"DECREMENT"</span>,</span><br><span class="line">            payload: <span class="number">0</span>,</span><br><span class="line">        &#125; );</span><br><span class="line">    &#125;;</span><br><span class="line">    handleGetList = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">this</span>.props.dispatch( &#123;</span><br><span class="line">            type: <span class="string">"GET_LIST"</span></span><br><span class="line">        &#125; );</span><br><span class="line">    &#125;;</span><br><span class="line">    render () &#123;</span><br><span class="line">        <span class="keyword">const</span> &#123;</span><br><span class="line">            counter: &#123; count, chartName &#125;,</span><br><span class="line">        &#125; = <span class="keyword">this</span>.props;</span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line">            &lt;div style=&#123;&#123; <span class="attr">textAlign</span>: <span class="string">"center"</span>, <span class="attr">marginTop</span>: <span class="string">"100px"</span> &#125;&#125;&gt;</span><br><span class="line">                &lt;h1&gt;&#123;chartName&#125;&lt;<span class="regexp">/h1&gt;</span></span><br><span class="line"><span class="regexp">                &lt;h1 className=&#123;styles.center&#125;&gt;è®¡æ•°å™¨ï¼š&#123;count&#125;&lt;/</span>h1&gt;</span><br><span class="line">                &lt;Button type=<span class="string">"primary"</span> onClick=&#123;<span class="keyword">this</span>.handleIncrement&#125;&gt;</span><br><span class="line">                    +</span><br><span class="line">                &lt;<span class="regexp">/Button&gt;</span></span><br><span class="line"><span class="regexp">                &lt;Button type="primary" onClick=&#123;this.handleDecrement&#125;&gt;</span></span><br><span class="line"><span class="regexp">                    -</span></span><br><span class="line"><span class="regexp">                &lt;/</span>Button&gt;</span><br><span class="line">                &lt;Button type=<span class="string">"primary"</span> onClick=&#123;<span class="keyword">this</span>.handleGetList&#125;&gt;</span><br><span class="line">                    æ›´æ–°è§†å›¾</span><br><span class="line">                &lt;<span class="regexp">/Button&gt;</span></span><br><span class="line"><span class="regexp">            &lt;/</span>div&gt;</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> mapStateToProps = <span class="function">(<span class="params"> state </span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        counter: state.counter,</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> connect( mapStateToProps )( Counter );</span><br></pre></td></tr></table></figure></p><h2 id="demoæˆªå›¾"><a href="#demoæˆªå›¾" class="headerlink" title="demoæˆªå›¾"></a>demoæˆªå›¾</h2><blockquote><p>ç‚¹å‡»æŒ‰é’®+é€’å¢ã€ç‚¹å‡»æŒ‰é’®-é€’å‡ã€ç‚¹å‡»æŒ‰é’®æ›´æ–°è§†å›¾æ›¿æ¢åˆå§‹åŒ–æ•°æ®ã€‚æ¥å£åœ°å€ <a href="https://api.coindesk.com/v1/bpi/currentprice.json" target="_blank" rel="noopener">https://api.coindesk.com/v1/bpi/currentprice.json</a><br><img src="/images/demo1.jpg" alt="avatar"></p></blockquote>]]></content>
    
    <summary type="html">
    
      æœ¬æ–‡å°†è®°å½•å¦‚ä½•ä½¿ç”¨webpack4æ­å»ºReacté¡¹ç›®å¹¶é›†æˆReact-Routerã€Reduxã€React-Reduxã€Redux-Sagaã€antdã€‚ä»¥åŠé‡åˆ°çš„é—®é¢˜ä»¥åŠå¦‚ä½•è§£å†³ã€‚
    
    </summary>
    
      <category term="React" scheme="https://zhouzhishou123.github.io/categories/React/"/>
    
    
      <category term="JSåŸºç¡€ç¬”è®°" scheme="https://zhouzhishou123.github.io/tags/JS%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>å˜æ¢è«æµ‹çš„this</title>
    <link href="https://zhouzhishou123.github.io/post/c8159d62.html"/>
    <id>https://zhouzhishou123.github.io/post/c8159d62.html</id>
    <published>2020-07-07T16:00:00.000Z</published>
    <updated>2020-07-08T15:17:02.365Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ä¸ºä»€ä¹ˆè¦ç”¨this"><a href="#ä¸ºä»€ä¹ˆè¦ç”¨this" class="headerlink" title="ä¸ºä»€ä¹ˆè¦ç”¨this"></a>ä¸ºä»€ä¹ˆè¦ç”¨this</h2><blockquote><p>æˆ‘ä»¬ä¸ºä»€ä¹ˆè¦ç”¨thisä»¥åŠåœ¨å“ªç§åœºæ™¯ä¼šç”¨åˆ°this?ä¸‹é¢å¯ä»¥é€šè¿‡ä¸€ä¸ªä¾‹å­è¯´æ˜ã€‚</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ä½¿ç”¨thisçš„æƒ…å†µ</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> Tom = &#123; <span class="attr">name</span>: <span class="string">"Tom"</span> &#125;,</span><br><span class="line">    Jerry = &#123; <span class="attr">name</span>: <span class="string">"Jerry"</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">identify</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.name.toUpperCase();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">speak</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> greeting = <span class="string">"Hello, I am "</span> + identify.call(<span class="keyword">this</span>);</span><br><span class="line">        <span class="built_in">console</span>.log(greeting);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(identify.call(Tom)); <span class="comment">// TOM</span></span><br><span class="line"><span class="built_in">console</span>.log(identify.call(Jerry)); <span class="comment">// JERRY</span></span><br><span class="line">speak.call(Tom); <span class="comment">// Hello, I am TOM</span></span><br><span class="line">speak.call(Jerry); <span class="comment">// Hello, I am JERRY</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//ä¸ä½¿ç”¨thisçš„æƒ…å†µ</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">identify</span>(<span class="params">context</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> context.name.toUpperCase();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">speak</span>(<span class="params">context</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> greeting = <span class="string">"Hello, I am "</span> + identify(context);</span><br><span class="line">    <span class="built_in">console</span>.log(greeting);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">identify(Tom); <span class="comment">// TOM</span></span><br><span class="line">speak(Jerry) <span class="comment">// Hello, I am JERRY</span></span><br></pre></td></tr></table></figure><blockquote><p>é€šè¿‡ä¸Šé¢çš„ä»£ç æˆ‘ä»¬ä¸éš¾å‘ç°ï¼Œå¦‚æœä¸ä½¿ç”¨this,å°±éœ€è¦ç»™identify()å’Œspeak()æ˜¾å¼ä¼ å…¥ä¸€ä¸ªä¸Šä¸‹æ–‡å¯¹è±¡ï¼Œéšç€ä½ çš„ä½¿ç”¨æ¨¡å¼è¶Šæ¥è¶Šå¤æ‚ï¼Œæ˜¾å¼ä¼ é€’ä¸Šä¸‹æ–‡ä¼šè®©ä»£ç å˜å¾—è¶Šæ¥è¶Šæ··ä¹±ï¼Œå¯è§thisæä¾›äº†ä¸€ç§æ›´ä¼˜é›…çš„æ–¹å¼æ¥éšå¼â€ä¼ é€’â€ä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨ï¼Œå› æ­¤å¯ä»¥å°†APIè®¾è®¡å¾—æ›´åŠ ç®€æ´å¹¶ä¸”æ˜“äºå¤ç”¨ã€‚</p></blockquote><h2 id="å…³äºthisçš„ä¸¤ä¸ªå¸¸è§è¯¯åŒº"><a href="#å…³äºthisçš„ä¸¤ä¸ªå¸¸è§è¯¯åŒº" class="headerlink" title="å…³äºthisçš„ä¸¤ä¸ªå¸¸è§è¯¯åŒº"></a>å…³äºthisçš„ä¸¤ä¸ªå¸¸è§è¯¯åŒº</h2><ul><li>æŒ‡å‘è‡ªèº«(ä¸¾ä¸ªğŸŒ°) <figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">callCount</span><span class="params">()</span> &#123;</span></span><br><span class="line">    this.count++;</span><br><span class="line">&#125;</span><br><span class="line">callCount.count = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (let <span class="built_in">i</span>=<span class="number">0</span>;<span class="built_in">i</span>&lt;<span class="number">10</span>;<span class="built_in">i</span>++)&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">i</span>&gt;<span class="number">5</span>)&#123;</span><br><span class="line">        callCount()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><blockquote><p>ä¸éš¾å‘ç°callCount()ä¼šè¢«è°ƒç”¨å››æ¬¡ä½†æ˜¯callCount.count = 0ï¼ŒåŸå› åœ¨äºæ­¤æ—¶çš„thisæŒ‡å‘window,é‚£ä¹ˆæˆ‘ä»¬å¾ˆå®¹æ˜“è”æƒ³åˆ°window.count = 4,ä½†æ˜¯ç»“æœæ˜¯NaNã€‚å› ä¸ºåœ¨éä¸¥æ ¼æ¨¡å¼ä¸‹countä¼šæå‰å£°æ˜ä½¿ç”¨ï¼Œå€¼ä¸ºundefined,è¿›è¡Œæ•°å­—è¿ç®—æ—¶å¾—å‡ºç»“æœNaN(æ•°æ®ç±»å‹çš„å…¨é¢è§£æè¿™ç¯‡æ–‡ç« æœ‰è¯¦ç»†ä»‹ç»æ•°æ®ä¹‹é—´çš„è½¬æ¢è§„åˆ™)</p><ul><li>æŒ‡å‘ä»–çš„ä½œç”¨åŸŸ<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> a = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">this</span>.bar()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.a);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">foo(); <span class="comment">// 2</span></span><br></pre></td></tr></table></figure></li></ul></blockquote><blockquote><p>ä»£ç æ‰§è¡Œæ—¶ï¼Œæµè§ˆå™¨ä¼šåˆ›å»ºä¸€ä¸ªå…¨å±€çš„æ‰§è¡Œä¸Šä¸‹æ–‡(EC(G))ï¼Œè¿›å…¥æ‰§è¡Œç¯å¢ƒæ ˆ(ECS)ä¸­æ‰§è¡Œï¼Œæ‰§è¡Œè¿‡ç¨‹ä¸­ä¼šè¿›è¡Œå˜é‡å’Œå‡½æ•°æå‡ï¼Œå˜é‡å¯¹è±¡(VO)å­˜å‚¨å½“å‰ä¸Šä¸‹æ–‡å˜é‡å’Œå€¼ï¼Œå½¢æˆç§æœ‰ä½œç”¨åŸŸ(scope)å’Œä½œç”¨åŸŸé“¾(scope chain)ï¼Œå‡½æ•°æ‰§è¡Œæ—¶ï¼Œä¼šå½¢æˆä¸€ä¸ªå…¨æ–°çš„æ‰§è¡Œä¸Šä¸‹æ–‡,è¿›å…¥æ‰§è¡Œç¯å¢ƒæ ˆ(ECS)ä¸­æ‰§è¡Œï¼Œæ´»åŠ¨å¯¹è±¡(AO)å­˜å‚¨å‡½æ•°å†…çš„å½¢å‚ã€å˜é‡å’Œå€¼ï¼ŒåŒæ ·ä¼šå½¢æˆç§æœ‰ä½œç”¨åŸŸå’Œä½œç”¨åŸŸé“¾ã€‚æ­¤æ—¶çš„thiså¹¶ä¸æ˜¯fooæ‰§è¡Œä¸Šä¸‹æ–‡ä¸‹çš„ä½œç”¨åŸŸè€Œæ˜¯æ‰§è¡Œwindowã€‚</p></blockquote><h2 id="å¦‚ä½•ç¡®å®šthis"><a href="#å¦‚ä½•ç¡®å®šthis" class="headerlink" title="å¦‚ä½•ç¡®å®šthis"></a>å¦‚ä½•ç¡®å®šthis</h2><ul><li><strong>thisæ˜¯åœ¨è°ƒç”¨æ—¶è¿›è¡Œç»‘å®šçš„ï¼Œå¹¶ä¸æ˜¯åœ¨å£°æ˜æ—¶ç¡®å®šçš„ï¼Œthisçš„ç»‘å®šå’Œå‡½æ•°å£°æ˜çš„ä½ç½®æ²¡æœ‰ä»»ä½•å…³ç³»ï¼Œå®Œå…¨å–å†³äºå‡½æ•°çš„è°ƒç”¨æ–¹å¼ã€‚</strong></li></ul><ol><li>é»˜è®¤ç»‘å®š<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.a);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    a: <span class="number">2</span>,</span><br><span class="line">    foo</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> bar = obj.foo; <span class="comment">// å¯ä»¥çœ‹ä½œæ˜¯fooçš„å¼•ç”¨æ”¾å…¥äº†å…¨å±€ECSæ‰§è¡Œã€‚thisæŒ‡å‘window</span></span><br><span class="line">foo(); <span class="comment">// 1</span></span><br><span class="line">bar(); <span class="comment">// 1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* ä½œä¸ºå›è°ƒå‡½æ•° */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.a);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">doFoo</span>(<span class="params">fn</span>) </span>&#123;</span><br><span class="line">    fn();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    a: <span class="number">2</span>,</span><br><span class="line">    foo</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> a = <span class="string">"global"</span>;</span><br><span class="line"></span><br><span class="line">doFoo(obj.foo); <span class="comment">// "global" æ˜¯ä¸€æ ·çš„è·Ÿbar()æ‰§è¡ŒåŸç†</span></span><br><span class="line">setTimeout(obj.foo, <span class="number">100</span>); <span class="comment">// "global" è·Ÿbar()æ‰§è¡ŒåŸç†</span></span><br></pre></td></tr></table></figure></li></ol><blockquote><p>åœ¨éä¸¥æ ¼æ¨¡å¼ä¸‹thisæŒ‡å‘windowï¼Œä¸¥æ ¼æ¨¡å¼ä¸‹thisä¼šç»‘å®šåˆ°undefined</p></blockquote><ol start="2"><li><p>éšå¼ç»‘å®š </p><figure class="highlight delphi"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj2 = <span class="comment">&#123;</span></span><br><span class="line"><span class="comment">    a: 42,</span></span><br><span class="line"><span class="comment">    foo: foo</span></span><br><span class="line"><span class="comment">&#125;</span>;</span><br><span class="line"><span class="keyword">var</span> obj1 = <span class="comment">&#123;</span></span><br><span class="line"><span class="comment">    a:2,</span></span><br><span class="line"><span class="comment">    obj2</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line">obj2.foo(); <span class="comment">// 42 thisæŒ‡å‘obj2</span></span><br><span class="line"></span><br><span class="line">obj1.obj2.foo(); <span class="comment">// 42 thisæŒ‡å‘obj2</span></span><br></pre></td></tr></table></figure></li><li><p>æ˜¾å¼ç»‘å®š</p><figure class="highlight delphi"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span><span class="params">()</span> <span class="comment">&#123;</span></span></span><br><span class="line"><span class="function"><span class="comment">    console.log(this.a);</span></span></span><br><span class="line"><span class="function"><span class="comment">&#125;</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">var</span> <span class="title">obj</span> = <span class="comment">&#123;</span></span></span><br><span class="line"><span class="function"><span class="comment">    a: 2</span></span></span><br><span class="line"><span class="function"><span class="comment">&#125;</span></span></span><br><span class="line"><span class="function"><span class="title">foo</span>.<span class="title">call</span><span class="params">(obj)</span> <span class="comment">// 2</span></span></span><br><span class="line"><span class="function"><span class="title">foo</span>.<span class="title">apply</span><span class="params">(obj)</span> <span class="comment">// 2</span></span></span><br><span class="line"><span class="function"><span class="title">foo</span>.<span class="title">bind</span><span class="params">(obj)</span><span class="params">()</span> <span class="comment">// 2</span></span></span><br></pre></td></tr></table></figure></li></ol><blockquote><p>ä¸€æ—¦è¢«bindã€callã€applyç»‘å®šåä¸å¯èƒ½å†ä¿®æ”¹å®ƒçš„this<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    a: <span class="number">2</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">num</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.a + num;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> foo.apply(obj, <span class="built_in">arguments</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">bar(<span class="number">3</span>); <span class="comment">// 5</span></span><br></pre></td></tr></table></figure></p></blockquote><ol start="4"><li><p>æ„é€ å‡½æ•°é‡Œçš„this</p><blockquote><p>ä½¿ç”¨newæ¥è°ƒç”¨æ„é€ å‡½æ•°å’Œç›´æ¥è°ƒç”¨æ™®é€šå‡½æ•°çš„åŒºåˆ«</p><ol><li>åˆ›å»ºï¼ˆæ„é€ ï¼‰ä¸€ä¸ªå…¨æ–°çš„å¯¹è±¡ä½œä¸ºå®ä¾‹å¯¹è±¡</li><li>å°†è¿™ä¸ªæ–°å¯¹è±¡çš„__proto__æŒ‡å‘æ„é€ å‡½æ•°çš„prototypeå¯¹è±¡</li><li>è¿™ä¸ªæ–°å¯¹è±¡ä¼šç»‘å®šåˆ°å‡½æ•°è°ƒç”¨çš„this</li><li>æ‰§è¡Œå‡½æ•°ä¸­çš„ä»£ç </li><li>å¦‚æœå‡½æ•°æ²¡æœ‰è¿”å›å…¶ä»–å¯¹è±¡ï¼Œé‚£ä¹ˆå‡½æ•°æ‰§è¡Œå®Œæˆåä¼šè‡ªåŠ¨è¿”å›è¿™ä¸ªæ–°å¯¹è±¡<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Foo</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> bar = <span class="keyword">new</span> Foo(<span class="string">"Tom"</span>); <span class="comment">// thiså°±æ˜¯barè¿™ä¸ªå®ä¾‹å¯¹è±¡</span></span><br></pre></td></tr></table></figure></li></ol></blockquote></li><li><p>ç®­å¤´å‡½æ•°ä¸­çš„this</p><blockquote><p>ç®­å¤´å‡½æ•°å’Œæ™®é€šå‡½æ•°çš„åŒºåˆ«</p><ol><li>ç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„this,è€Œæ˜¯å®šä¹‰æ—¶ä¸Šçº§æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­</li><li>æœ¬èº«æ²¡æœ‰argumentså¯¹è±¡,ä¹Ÿæ²¡æœ‰prototypeå¯¹è±¡</li><li>ä¸èƒ½å½“ä½œæ„é€ å‡½æ•°ä½¿ç”¨</li><li>ç®­å¤´å‡½æ•°çš„thisç»‘å®šåæ— æ³•è¢«callã€applyã€bindã€newä¿®æ”¹<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    a: <span class="number">2</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span>=&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.a);</span><br><span class="line">    &#125;,<span class="number">100</span>)</span><br><span class="line">&#125;</span><br><span class="line">foo.call(obj) <span class="comment">// ç®­å¤´å‡½æ•°thisæ˜¯fooé‡Œçš„this</span></span><br></pre></td></tr></table></figure></li></ol></blockquote></li><li><p>äº‹ä»¶ç»‘å®š</p></li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">'btn'</span>).onclick = <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="keyword">this</span>);</span><br><span class="line">        &#125; <span class="comment">// thisæŒ‡å‘å½“å‰å…ƒç´ æœ¬èº«</span></span><br><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">'btn'</span>).addEventListener(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="keyword">this</span>);</span><br><span class="line">        &#125;) <span class="comment">// thisæŒ‡å‘å½“å‰å…ƒç´ æœ¬èº«</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      thiså…³é”®å­—æ˜¯javascriptä¸­æœ€å¤æ‚çš„æœºåˆ¶ä¹‹ä¸€,å¯¹äºæœ‰ç»éªŒçš„javascriptå¼€å‘è€…æ¥è¯´éƒ½æ˜¯ä¸€ç§éå¸¸å¤æ‚çš„æœºåˆ¶
    
    </summary>
    
      <category term="javascript" scheme="https://zhouzhishou123.github.io/categories/javascript/"/>
    
    
      <category term="JSåŸºç¡€ç¬”è®°" scheme="https://zhouzhishou123.github.io/tags/JS%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/"/>
    
  </entry>
  
</feed>
